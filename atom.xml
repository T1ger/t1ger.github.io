<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>t1ger的茶馆</title>
  <subtitle>头顶有光终是幻，足下生云未是仙</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://t1ger.github.io/"/>
  <updated>2016-10-31T08:38:32.099Z</updated>
  <id>https://t1ger.github.io/</id>
  
  <author>
    <name>t1ger</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Pinba Server install on centos6.4</title>
    <link href="https://t1ger.github.io/2016/10/31/Pinba-Server-install-on-centos6-4/"/>
    <id>https://t1ger.github.io/2016/10/31/Pinba-Server-install-on-centos6-4/</id>
    <published>2016-10-31T08:35:24.000Z</published>
    <updated>2016-10-31T08:38:32.099Z</updated>
    
    <content type="html"><![CDATA[<p>Pinba is a MySQL storage engine that acts as a realtime monitoring/statistics server for PHP using MySQL as a read-only interface.</p>
<p>Environment:</p>
<p>Pinba 1.1.0<br>Pinboard 1.5.2<br>MySQL: 5.5.50<br>PHP: 5.6</p>
<p>install MySQL:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">yum install cmake  ncurses-devel</div><div class="line">wget http://downloads.mysql.com/archives/get/file/mysql-5.5.50.tar.gz</div><div class="line">tar xvf mysql-5.5.50.tar.gz </div><div class="line">mysql-5.5.50</div><div class="line">cmake .</div><div class="line">make install</div><div class="line">cd /usr/local/mysql</div><div class="line">chown -R mysql.mysql . </div><div class="line">bin/mysql_install_db --user=mysql</div><div class="line">cp support-files/my-medium.cnf /etc/my.cnf</div><div class="line">cp support-files/mysql.server /etc/init.d/mysql.server</div><div class="line">chmod +x /etc/init.d/mysql.server</div><div class="line">chkconfig mysql.server on</div><div class="line">/etc/init.d/mysql.server start</div></pre></td></tr></table></figure>
<p>install Pinba:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">yum install Judy.x86_64 protobuf.x86_64 libevent.x86_64 Judy-devel.x86_64 protobuf-devel.x86_64 libevent-devel.x86_64</div><div class="line">wget http://store.alexlinux.com/sources/P/pinba_engine-1.2.0.tar.gz</div><div class="line">tar zxvf pinba_engine-1.2.0.tar.gz</div><div class="line">./configure --with-mysql=../mysql-5.5.50 --libdir=/usr/local/mysql/lib/plugin</div><div class="line">make</div><div class="line">make install</div></pre></td></tr></table></figure>
<p>install Pinba plugin:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">mysql&gt; INSTALL PLUGIN pinba SONAME &apos;libpinba_engine.so&apos;;</div><div class="line">mysql&gt; CREATE DATABASE pinba;</div><div class="line">shell&gt; mysql -D pinba &lt; default_tables.sql</div></pre></td></tr></table></figure>
<p>create mysql user:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">mysql&gt; GRANT ALL PRIVILEGES ON pinba.* TO pinba@&quot;&lt;HOST&gt;&quot;</div><div class="line">       IDENTIFIED BY &quot;&lt;PASSWORD&gt;&quot;;</div></pre></td></tr></table></figure>
<p>install Pinba extension,defaut for php7,if you like me use php5 need change it to php5:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">shell&gt; git clone https://github.com/tony2001/pinba_extension.git</div><div class="line">shell&gt; cd pinba_extension</div><div class="line">shell&gt; git checkout -b php5 remotes/origin/php5</div><div class="line">shell&gt; phpize</div><div class="line">shell&gt; ./configure</div><div class="line">shell&gt; make</div><div class="line">shell&gt; make install</div></pre></td></tr></table></figure></p>
<p>install apcu extension:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">shell&gt; wget http://pecl.php.net/get/apcu-4.0.11.tgz</div><div class="line">shell&gt; tar zxvf apcu-4.0.11.tgz</div><div class="line">shell&gt; cd apcu-4.0.11</div><div class="line">shell&gt; phpize</div><div class="line">shell&gt; ./configure --enable-apc-bc</div><div class="line">shell&gt; make</div><div class="line">shell&gt; make install</div></pre></td></tr></table></figure>
<p>install Composer:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">curl -sS https://getcomposer.org/installer | php</div><div class="line">mv composer.phar /usr/local/bin/composer</div></pre></td></tr></table></figure></p>
<p>install Pinboard:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">shell&gt; tar zxvf v1.5.2.tar.gz</div><div class="line">shell&gt; cd pinboard-1.5.2</div><div class="line">shell&gt; composer install</div><div class="line">shell&gt; ./console migrations:migrate</div><div class="line">shell&gt; ./console register-crontab</div></pre></td></tr></table></figure></p>
<p>confirm server if reecive data on port 30002:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">shell&gt; tcpdump -nn -i any udp port 30002</div></pre></td></tr></table></figure>
<p>nginx configure:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">server &#123;        </div><div class="line">    listen 80;</div><div class="line">    server_name pinboard.me;</div><div class="line">    root /var/www/pinboard/web;</div><div class="line"></div><div class="line">    #site root is redirected to the app boot script</div><div class="line">    location = / &#123;</div><div class="line">        try_files @site @site;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    #all other locations try other files first and go to our front controller if none of them exists</div><div class="line">    location / &#123;</div><div class="line">        try_files $uri $uri/ @site;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    #return 404 for all php files as we do have a front controller</div><div class="line">    location ~ \.php$ &#123;</div><div class="line">        return 404;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    location @site &#123;</div><div class="line">        fastcgi_pass unix:/tmp/php-fpm.sock;</div><div class="line">        include fastcgi_params;</div><div class="line">        fastcgi_param SCRIPT_FILENAME $document_root/index.php;</div><div class="line">        fastcgi_param HTTPS $https if_not_empty;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    location ~ /\.(ht|svn|git) &#123;</div><div class="line">        deny  all;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Now we will see <a href="http://pinboard.me" target="_blank" rel="external">http://pinboard.me</a></p>
<p>install extension for client:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">shell&gt; git clone https://github.com/tony2001/pinba_extension.git</div><div class="line">shell&gt; cd pinba_extension</div><div class="line">shell&gt; git checkout -b php5 remotes/origin/php5</div><div class="line">shell&gt; phpize</div><div class="line">shell&gt; ./configure</div><div class="line">shell&gt; make</div><div class="line">shell&gt; make install</div><div class="line">(</div><div class="line">cat &lt;&lt;EOF</div><div class="line">; Load Pinba extension</div><div class="line">extension=pinba.so</div><div class="line">; Enable and configure Pinba extension</div><div class="line">; See http://pinba.org/wiki/Manual:PHP_extension</div><div class="line">pinba.enabled = 1</div><div class="line">pinba.server = 127.0.0.1</div><div class="line">EOF</div><div class="line">) &gt; /etc/php.d/pinba.ini</div></pre></td></tr></table></figure></p>
<p>ref:</p>
<p><a href="https://github.com/trivoallan/trivoallan.github.com/wiki/HowToPinbaCentOs" target="_blank" rel="external">HowToPinbaCentOs</a><br><a href="https://mrcappuccino.ru/blog/post/pinba-server-installation-on-centos-6" target="_blank" rel="external">install on centos6</a><br><a href="http://www.alexlinux.com/pinba-server-installation-on-centos-7/" target="_blank" rel="external">pinba server installation on CentOS 7</a><br><a href="https://github.com/intaro/pinboard/wiki/Installation" target="_blank" rel="external">pinboard</a><br><a href="https://github.com/tony2001/pinba_engine/wiki" target="_blank" rel="external">pinba</a><br><a href="https://howto.biapy.com/en/debian-gnu-linux/web-applications/monitoring/install-intaro-pinboard-on-debian" target="_blank" rel="external">Install Intaro Pinboard on Debian</a></p>
<hr>
<p>您的鼓励是我写作最大的动力</p>
<p>俗话说，投资效率是最好的投资。 如果您感觉我的文章质量不错，读后收获很大，预计能为您提高 10% 的工作效率，不妨小额捐助我一下，让我有动力继续写出更多好文章。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Pinba is a MySQL storage engine that acts as a realtime monitoring/statistics server for PHP using MySQL as a read-only interface.&lt;/p&gt;
&lt;p
    
    </summary>
    
    
      <category term="centos" scheme="https://t1ger.github.io/tags/centos/"/>
    
      <category term="Pinba" scheme="https://t1ger.github.io/tags/Pinba/"/>
    
      <category term="mysql5.5" scheme="https://t1ger.github.io/tags/mysql5-5/"/>
    
  </entry>
  
  <entry>
    <title>python属性(property)的理解</title>
    <link href="https://t1ger.github.io/2016/10/26/python%E5%B1%9E%E6%80%A7-property-%E7%9A%84%E7%90%86%E8%A7%A3/"/>
    <id>https://t1ger.github.io/2016/10/26/python属性-property-的理解/</id>
    <published>2016-10-26T10:18:06.000Z</published>
    <updated>2016-10-26T09:56:04.906Z</updated>
    
    <content type="html"><![CDATA[<h4 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h4><p>property([fget[, fset[, fdel[, doc]]]])<br>property()函数前面三个参数分别对应于数据描述符的中的__get__，__set__，__del__方法，所以它们之间会有一个内部的与数据描述符的映射。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">class C(object):</div><div class="line">    def __init__(self):</div><div class="line">        self._x = None</div><div class="line"></div><div class="line">    def getx(self):</div><div class="line">        return self._x</div><div class="line">    def setx(self, value):</div><div class="line">        self._x = value</div><div class="line">    def delx(self):</div><div class="line">        del self._x</div><div class="line">    x = property(getx, setx, delx, &quot;I&apos;m the &apos;x&apos; property.&quot;)</div></pre></td></tr></table></figure>
<h4 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h4><p>通常可以用__getattr__(self, name)来查询即时生成的属性。当我们查询一个属性时，如果无法通过__dict__找到该属性，那么Python会调用对象的__getattr__方法，来即时生成。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">class Rectangle(object):</div><div class="line">    def __init__(self, width=0, height=0):</div><div class="line">        self.width = width</div><div class="line">        self.height = height</div><div class="line"></div><div class="line">    def __setattr__(self, name, value):</div><div class="line">        if name == &apos;area&apos;:</div><div class="line">            raise Exception(&apos;area can not be set. Please set the area by set width and height.&apos;)</div><div class="line">        else:</div><div class="line">            self.__dict__[name] = value</div><div class="line"></div><div class="line">    def __getattr__(self, name):</div><div class="line">        if name == &apos;area&apos;:</div><div class="line">            return self.width*self.height</div><div class="line">        else:</div><div class="line">            raise AttributeError</div><div class="line"></div><div class="line">if __name__ == &apos;__main__&apos;:</div><div class="line">    rt = Rectangle(5, 6)</div><div class="line">    print rt.area</div><div class="line">    rt.width, rt.height = 3, 4</div><div class="line">    print rt.area</div><div class="line">    rt.area = 100</div></pre></td></tr></table></figure>
<p>__getattr__可以将所有的即时生成属性放在同一个函数中处理。__getattr__可以根据函数名区别处理不同的属性。</p>
<p>Python中还有一个__getattribute__特殊方法，用于查询任意属性。__getattr__只能用来查询不在__dict__系统中的属性<br>__setattr__(self, name, value)和__delattr__(self, name)可用于修改和删除属性。它们的应用面更广，可用于任意属性</p>
<p>参考<br><a href="https://docs.python.org/release/2.6/library/functions.html#property" target="_blank" rel="external">python doc</a></p>
<hr>
<p>您的鼓励是我写作最大的动力</p>
<p>俗话说，投资效率是最好的投资。 如果您感觉我的文章质量不错，读后收获很大，预计能为您提高 10% 的工作效率，不妨小额捐助我一下，让我有动力继续写出更多好文章。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;概念&quot;&gt;&lt;a href=&quot;#概念&quot; class=&quot;headerlink&quot; title=&quot;概念&quot;&gt;&lt;/a&gt;概念&lt;/h4&gt;&lt;p&gt;property([fget[, fset[, fdel[, doc]]]])&lt;br&gt;property()函数前面三个参数分别对应于数据描述
    
    </summary>
    
    
      <category term="property python" scheme="https://t1ger.github.io/tags/property-python/"/>
    
  </entry>
  
  <entry>
    <title>python闭包的理解</title>
    <link href="https://t1ger.github.io/2016/10/25/python%E9%97%AD%E5%8C%85%E7%9A%84%E7%90%86%E8%A7%A3/"/>
    <id>https://t1ger.github.io/2016/10/25/python闭包的理解/</id>
    <published>2016-10-25T11:05:27.000Z</published>
    <updated>2016-10-26T03:56:59.242Z</updated>
    
    <content type="html"><![CDATA[<h4 id="什么是闭包"><a href="#什么是闭包" class="headerlink" title="什么是闭包"></a>什么是闭包</h4><p>维基上的解释:<br>在计算机科学中，闭包（Closure）是词法闭包（Lexical Closure）的简称，是引用了自由变量的函数。这个被引用的自由变量将和这个函数一同存在，即使已经离开了创造它的环境也不例外。所以，有另一种说法认为闭包是由函数和与其相关的引用环境组合而成的实体。闭包在运行时可以有多个实例，不同的引用环境和相同的函数组合可以产生不同的实例。</p>
<p>假如用一句话来理解这段话：函数内在包含子函数，并最终return子函数</p>
<p>举个栗子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">def parent(name):</div><div class="line">    def child(age):</div><div class="line">        print &apos;name:&apos;, name, &apos;age:&apos;, age</div><div class="line">    return child</div><div class="line"></div><div class="line">who = parent(&apos;tomcat&apos;)</div><div class="line">who(26)  # &gt;&gt;&gt; name: tomcat age: 26</div></pre></td></tr></table></figure>
<p>在调用parent的时候就产生了一个闭包–child,该闭包持有自由变量–name.即当函数parent的生命周期结束后，name的变量依然存在。因为它被闭包引用了，所以不会被回收。</p>
<h4 id="闭包的应用"><a href="#闭包的应用" class="headerlink" title="闭包的应用"></a>闭包的应用</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">def decorator_func(func):</div><div class="line">    def wrapper(*args, **kwargs):</div><div class="line">        return func(*args, **kwargs)</div><div class="line">    return wrapper</div><div class="line">	</div><div class="line">@decorator_func</div><div class="line">def func(name):</div><div class="line">    print &apos;my name is&apos;, name</div><div class="line">	</div><div class="line">#等价于</div><div class="line">decorator_func(func)</div></pre></td></tr></table></figure>
<p>在这个例子中，闭包(wrapper)有外部的func这个参数，并且能接收外部传来的参数，并将参数传递给func,返回执行结果</p>
<h4 id="总结-在Python中创建一个闭包可以归结为以下三点"><a href="#总结-在Python中创建一个闭包可以归结为以下三点" class="headerlink" title="总结,在Python中创建一个闭包可以归结为以下三点:"></a>总结,在Python中创建一个闭包可以归结为以下三点:</h4><ul>
<li>闭包函数必须有内嵌函数</li>
<li>内嵌函数需要引用该嵌套函数上一级namespace中的变量</li>
<li>闭包函数必须返回内嵌函数</li>
</ul>
<p>参考</p>
<p><a href="http://www.cnblogs.com/vamei/archive/2012/12/15/2772451.html" target="_blank" rel="external">python 深入闭包</a><br><a href="https://www.the5fire.com/closure-in-python.html" target="_blank" rel="external">python 中的闭包</a></p>
<hr>
<p>您的鼓励是我写作最大的动力</p>
<p>俗话说，投资效率是最好的投资。 如果您感觉我的文章质量不错，读后收获很大，预计能为您提高 10% 的工作效率，不妨小额捐助我一下，让我有动力继续写出更多好文章。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;什么是闭包&quot;&gt;&lt;a href=&quot;#什么是闭包&quot; class=&quot;headerlink&quot; title=&quot;什么是闭包&quot;&gt;&lt;/a&gt;什么是闭包&lt;/h4&gt;&lt;p&gt;维基上的解释:&lt;br&gt;在计算机科学中，闭包（Closure）是词法闭包（Lexical Closure）的简称，是引
    
    </summary>
    
    
      <category term="Closure python" scheme="https://t1ger.github.io/tags/Closure-python/"/>
    
  </entry>
  
  <entry>
    <title>Meteor Tutorial: Build chat Web Applications with Meteor</title>
    <link href="https://t1ger.github.io/2016/10/17/Meteor-Tutorial-Build-chat-Web-Applications-with-Meteor/"/>
    <id>https://t1ger.github.io/2016/10/17/Meteor-Tutorial-Build-chat-Web-Applications-with-Meteor/</id>
    <published>2016-10-17T03:46:53.000Z</published>
    <updated>2016-10-17T03:21:31.707Z</updated>
    
    <content type="html"><![CDATA[<p>let’s spent a little time to explain the assessment.first,this is my homework about meteor on coursera.I have to complete three task below</p>
<p>You should download and run the starter application, then test it out by logging in as different users in two different web browsers at the same time, seeing if the users if the users can talk to each other. It creates a set of test user accounts automatically, so you can log in as user1@test.com … user8@test.com with the password test123.</p>
<p>Task 1: Improve the look and feel</p>
<p>Adapt the templates and helper functions so that the messaging window displays users’ avatars next to their messages. Feel free to add other enhancements!</p>
<p>Task 2: Implement data writing security</p>
<p>Remove the insecure package from the application and implement a Meteor method to allow the insertion of chat items in the Chats collection. Test that you cannot insert items directly any more.</p>
<p>Task 3: Implement data reading security</p>
<p>Remove the autopublish package from the application and implement publish and subscribe for Chats. Users should only be able to retrieve chats that have their user id in either the user1Id field or the user2Id field. Test by logging in as different users and checking what you can see</p>
<p>Challenge: Implement emoticons</p>
<p>Can you implement emoticon functionality which allows the user to insert graphical emoticons into their message? Emoticons are small icons such as smiley faces which are typical of this kind of application.</p>
<p>this is html file: minstant.html</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">  &lt;title&gt;minstant&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line"></div><div class="line">&lt;body&gt;</div><div class="line">&lt;/body&gt;</div><div class="line"></div><div class="line">&lt;!-- this is the main template used by iron:router to build the page --&gt;</div><div class="line">&lt;template name=&quot;ApplicationLayout&quot;&gt;</div><div class="line">	&#123;&#123;&gt; yield &quot;header&quot;&#125;&#125;</div><div class="line">	</div><div class="line">	&lt;div class=&quot;container&quot;&gt;</div><div class="line">	&#123;&#123;&gt; yield &quot;main&quot;&#125;&#125;</div><div class="line">	&lt;/div&gt;</div><div class="line">&lt;/template&gt;</div><div class="line"></div><div class="line">&lt;!-- top level template for the nav bar --&gt;</div><div class="line">&lt;template name=&quot;navbar&quot;&gt;</div><div class="line">&lt;nav class=&quot;navbar navbar-default&quot;&gt;</div><div class="line">  &lt;div class=&quot;container-fluid&quot;&gt;</div><div class="line">    &lt;div class=&quot;navbar-header&quot;&gt;</div><div class="line">      &lt;a class=&quot;navbar-brand&quot; href=&quot;/&quot;&gt;</div><div class="line">        Minstant!</div><div class="line">      &lt;/a&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">    &lt;div class=&quot;nav navbar-nav&quot;&gt;</div><div class="line">    &#123;&#123;&gt; loginButtons&#125;&#125;</div><div class="line">&lt;/div&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;/nav&gt;</div><div class="line">&lt;/template&gt;</div><div class="line"></div><div class="line">&lt;!-- Top level template for the lobby page --&gt;</div><div class="line">&lt;template name=&quot;lobby_page&quot;&gt;</div><div class="line">	&#123;&#123;&gt; available_user_list&#125;&#125;</div><div class="line">&lt;/template&gt;</div><div class="line"></div><div class="line">&lt;!-- display a list of users --&gt;</div><div class="line">&lt;template name=&quot;available_user_list&quot;&gt;</div><div class="line">	&lt;h2&gt;Choose someone to chat with:&lt;/h2&gt;</div><div class="line">	&lt;div class=&quot;row&quot;&gt;</div><div class="line">	&#123;&#123;#each users&#125;&#125;</div><div class="line">	&#123;&#123;&gt; available_user&#125;&#125;</div><div class="line">	&#123;&#123;/each&#125;&#125;</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;/template&gt;</div><div class="line"></div><div class="line">&lt;!-- display an individual user --&gt;</div><div class="line">&lt;template name=&quot;available_user&quot;&gt;</div><div class="line">	&lt;div class=&quot;col-md-2&quot;&gt;</div><div class="line">		&lt;div class=&quot;user_avatar&quot;&gt;</div><div class="line">			&#123;&#123;#if isMyUser _id&#125;&#125; </div><div class="line">			&lt;div class=&quot;bg-success&quot;&gt;&#123;&#123;getUsername _id&#125;&#125; (YOU)</div><div class="line">				&lt;br/&gt;</div><div class="line">				&lt;img src=&quot;/&#123;&#123;profile.avatar&#125;&#125;&quot; class=&quot;avatar_img&quot;&gt;			</div><div class="line">			&lt;/div&gt;</div><div class="line">			&#123;&#123;else&#125;&#125;</div><div class="line">			&lt;a href=&quot;/chat/&#123;&#123;_id&#125;&#125;&quot;&gt;</div><div class="line">				&#123;&#123;getUsername _id&#125;&#125;</div><div class="line">				&lt;br/&gt;</div><div class="line">				&lt;img src=&quot;/&#123;&#123;profile.avatar&#125;&#125;&quot; class=&quot;avatar_img&quot;&gt;</div><div class="line">			&lt;/a&gt;</div><div class="line">			&#123;&#123;/if&#125;&#125;</div><div class="line">		&lt;/div&gt;</div><div class="line">	&lt;/div&gt;</div><div class="line">&lt;/template&gt;</div><div class="line"></div><div class="line">&lt;!-- display an individual user avatar --&gt;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&lt;!-- Top level template for the chat page --&gt;</div><div class="line">&lt;template name=&quot;chat_page&quot;&gt;</div><div class="line">	&lt;h2&gt;Type in the box below to send a message!&lt;/h2&gt;</div><div class="line">	&lt;div class=&quot;row&quot;&gt;</div><div class="line">		&lt;div class=&quot;col-md-12&quot;&gt;</div><div class="line">			&lt;div class=&quot;well well-lg&quot;&gt;</div><div class="line">			&#123;&#123;#each messages&#125;&#125;</div><div class="line"></div><div class="line">			&#123;&#123;&gt; chat_message&#125;&#125;</div><div class="line">			&#123;&#123;/each&#125;&#125;</div><div class="line">			&lt;/div&gt;	</div><div class="line">		&lt;/div&gt;</div><div class="line">	&lt;/div&gt;</div><div class="line">    &lt;div class=&quot;row&quot;&gt;</div><div class="line">		&lt;div class=&quot;col-md-12&quot;&gt;</div><div class="line">			&lt;form class=&quot;js-send-chat&quot;&gt;</div><div class="line">			&lt;input class=&quot;input&quot; type=&quot;text&quot; name=&quot;chat&quot; placeholder=&quot;type a message here...&quot;&gt;</div><div class="line">			&lt;button class=&quot;btn btn-default&quot;&gt;send&lt;/button&gt;</div><div class="line">		&lt;/form&gt;</div><div class="line">		&lt;/div&gt;</div><div class="line">	&lt;/div&gt;</div><div class="line">&lt;/template&gt;</div><div class="line"></div><div class="line">&lt;!-- simple template that displays a message --&gt;</div><div class="line">&lt;template name=&quot;chat_message&quot;&gt;</div><div class="line">	&#123;&#123;#if currentUser&#125;&#125; </div><div class="line">		&lt;img src=&quot;/&#123;&#123;avatar&#125;&#125;&quot; class=&quot;avatar_img&quot;&gt;&#123;&#123;Username&#125;&#125; said: &#123;&#123;text&#125;&#125;</div><div class="line">	&#123;&#123;else&#125;&#125;</div><div class="line">		someone said &#123;&#123;text&#125;&#125;</div><div class="line">	&#123;&#123;/if&#125;&#125;</div><div class="line">	</div><div class="line">	&lt;br&gt;</div><div class="line">&lt;/template&gt;</div></pre></td></tr></table></figure>
<p>this is css file: minstant.css</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">/* CSS declarations go here */</div><div class="line"></div><div class="line">.user_avatar&#123;</div><div class="line">	min-height:100px;</div><div class="line">	text-align: center;</div><div class="line"></div><div class="line">&#125;</div><div class="line">.avatar_img&#123;</div><div class="line">	height:75px;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>this is js file: minstant.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div></pre></td><td class="code"><pre><div class="line">Chats = new Mongo.Collection(&quot;chats&quot;);</div><div class="line"></div><div class="line">if (Meteor.isClient) &#123;</div><div class="line">  // set up the main template the the router will use to build pages</div><div class="line">  Router.configure(&#123;</div><div class="line">    layoutTemplate: &apos;ApplicationLayout&apos;</div><div class="line">  &#125;);</div><div class="line">  // specify the top level route, the page users see when they arrive at the site</div><div class="line">  Router.route(&apos;/&apos;, function () &#123;</div><div class="line">    console.log(&quot;rendering root /&quot;);</div><div class="line">    this.render(&quot;navbar&quot;, &#123;to:&quot;header&quot;&#125;);</div><div class="line">    this.render(&quot;lobby_page&quot;, &#123;to:&quot;main&quot;&#125;);  </div><div class="line">  &#125;);</div><div class="line"></div><div class="line">  // specify a route that allows the current user to chat to another users</div><div class="line">  Router.route(&apos;/chat/:_id&apos;, function () &#123;</div><div class="line">    // the user they want to chat to has id equal to </div><div class="line">    // the id sent in after /chat/... </div><div class="line">    var otherUserId = this.params._id;</div><div class="line">    // find a chat that has two users that match current user id</div><div class="line">    // and the requested user id</div><div class="line">    var filter = &#123;$or:[</div><div class="line">                &#123;user1Id:Meteor.userId(), user2Id:otherUserId&#125;, </div><div class="line">                &#123;user2Id:Meteor.userId(), user1Id:otherUserId&#125;</div><div class="line">                ]&#125;;</div><div class="line">    var chat = Chats.findOne(filter);</div><div class="line">    if (!chat)&#123;// no chat matching the filter - need to insert a new one</div><div class="line">      //chatId = Chats.insert(&#123;user1Id:Meteor.userId(), user2Id:otherUserId&#125;);</div><div class="line">	  chatId = Meteor.call(&quot;createChat&quot;, Meteor.userId(), otherUserId, function (error) &#123;</div><div class="line">      if (error &amp;&amp; error.error === &quot;logged-out&quot;) &#123;</div><div class="line">        // show a nice error message</div><div class="line">        alert(&quot;Please, log in or create an account.&quot;);</div><div class="line">      &#125;</div><div class="line">    &#125;);</div><div class="line">    &#125;</div><div class="line">    else &#123;// there is a chat going already - use that. </div><div class="line">      chatId = chat._id;</div><div class="line">    &#125;</div><div class="line">    if (chatId)&#123;// looking good, save the id to the session</div><div class="line">      Session.set(&quot;chatId&quot;,chatId);</div><div class="line">    &#125;</div><div class="line">    this.render(&quot;navbar&quot;, &#123;to:&quot;header&quot;&#125;);</div><div class="line">    this.render(&quot;chat_page&quot;, &#123;to:&quot;main&quot;&#125;);  </div><div class="line">  &#125;);</div><div class="line">  </div><div class="line">  </div><div class="line">  Meteor.subscribe(&quot;users&quot;);</div><div class="line">  Meteor.subscribe(&quot;chats&quot;);</div><div class="line"></div><div class="line">  ///</div><div class="line">  // helper functions </div><div class="line">  /// </div><div class="line">  Template.available_user_list.helpers(&#123;</div><div class="line">    users:function()&#123;</div><div class="line">      return Meteor.users.find();</div><div class="line">    &#125;</div><div class="line">  &#125;)</div><div class="line"> Template.available_user.helpers(&#123;</div><div class="line">    getUsername:function(userId)&#123;</div><div class="line">      user = Meteor.users.findOne(&#123;_id:userId&#125;);</div><div class="line">      return user.profile.username;</div><div class="line">    &#125;, </div><div class="line">    isMyUser:function(userId)&#123;</div><div class="line">      if (userId == Meteor.userId())&#123;</div><div class="line">        return true;</div><div class="line">      &#125;</div><div class="line">      else &#123;</div><div class="line">        return false;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;)</div><div class="line"></div><div class="line">  Template.chat_page.helpers(&#123;</div><div class="line">    messages:function()&#123;</div><div class="line">      var chat = Chats.findOne(&#123;_id:Session.get(&quot;chatId&quot;)&#125;);</div><div class="line">      return chat.messages;</div><div class="line">    &#125;, </div><div class="line">    other_user:function()&#123;</div><div class="line">      return &quot;&quot;</div><div class="line">    &#125;, </div><div class="line">	</div><div class="line">  &#125;)</div><div class="line">    </div><div class="line"> Template.chat_page.events(&#123;</div><div class="line">  // this event fires when the user sends a message on the chat page</div><div class="line">  &apos;submit .js-send-chat&apos;:function(event)&#123;</div><div class="line">    // stop the form from triggering a page reload</div><div class="line">    event.preventDefault();</div><div class="line">    // see if we can find a chat object in the database</div><div class="line">    // to which we&apos;ll add the message</div><div class="line">    var chat = Chats.findOne(&#123;_id:Session.get(&quot;chatId&quot;)&#125;);</div><div class="line">    if (chat)&#123;// ok - we have a chat to use</div><div class="line">      var msgs = chat.messages; // pull the messages property</div><div class="line">      if (!msgs)&#123;// no messages yet, create a new array</div><div class="line">        msgs = [];</div><div class="line">      &#125;</div><div class="line">      // is a good idea to insert data straight from the form</div><div class="line">      // (i.e. the user) into the database?? certainly not. </div><div class="line">      // push adds the message to the end of the array</div><div class="line">      msgs.push(&#123;text: event.target.chat.value,avatar: Meteor.user().profile.avatar, Username: Meteor.user().profile.username&#125;);</div><div class="line">      // reset the form</div><div class="line">      event.target.chat.value = &quot;&quot;;</div><div class="line">      // put the messages array onto the chat object</div><div class="line">      chat.messages = msgs;</div><div class="line">      // update the chat object in the database.</div><div class="line">	  //Chats.update(chat._id, chat);</div><div class="line">	  Meteor.call(&quot;newMessages&quot;, chat._id, chat);</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"> &#125;)</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">// start up script that creates some users for testing</div><div class="line">// users have the username &apos;user1@test.com&apos; .. &apos;user8@test.com&apos;</div><div class="line">// and the password test123 </div><div class="line"></div><div class="line">if (Meteor.isServer) &#123;</div><div class="line">  Meteor.startup(function () &#123;</div><div class="line">    if (!Meteor.users.findOne())&#123;</div><div class="line">      for (var i=1;i&lt;9;i++)&#123;</div><div class="line">        var email = &quot;user&quot;+i+&quot;@test.com&quot;;</div><div class="line">        var username = &quot;user&quot;+i;</div><div class="line">        var avatar = &quot;ava&quot;+i+&quot;.png&quot;</div><div class="line">        console.log(&quot;creating a user with password &apos;test123&apos; and username/ email: &quot;+email);</div><div class="line">        Meteor.users.insert(&#123;profile:&#123;username:username, avatar:avatar&#125;, emails:[&#123;address:email&#125;],services:&#123; password:&#123;&quot;bcrypt&quot; : &quot;$2a$10$I3erQ084OiyILTv8ybtQ4ON6wusgPbMZ6.P33zzSDei.BbDL.Q4EO&quot;&#125;&#125;&#125;);</div><div class="line">      &#125;</div><div class="line">    &#125; </div><div class="line">  &#125;);</div><div class="line">  </div><div class="line">  Meteor.publish(&quot;chats&quot;,function()&#123;</div><div class="line">		return Chats.find(&#123;$or:[</div><div class="line">              &#123;user1Id:this.userId&#125;,</div><div class="line">              &#123;user2Id:this.userId&#125;</div><div class="line">            ]&#125;);</div><div class="line"> &#125;);</div><div class="line"> </div><div class="line"> Meteor.publish(&quot;users&quot;,function()&#123;</div><div class="line">	 return Meteor.users.find();</div><div class="line"> &#125;); </div><div class="line">    </div><div class="line"> Meteor.methods(&#123;</div><div class="line">	  </div><div class="line">  createChat: function (user1, user2) &#123;</div><div class="line">          //Check user logged. If no userID throw a Meteor error</div><div class="line">    if (!this.userId)&#123;</div><div class="line">      throw new Meteor.Error(&quot;logged-out&quot;, &quot;The user must be logged in to post a comment.&quot;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    // start - createChat</div><div class="line">    if (Meteor.users.find(&#123;_id: user1&#125;) &amp;&amp; Meteor.users.find(&#123;_id: user2&#125;)) &#123;</div><div class="line">      Chats.insert(&#123;user1Id:user1, user2Id:user2&#125;, function(err, result)&#123;</div><div class="line">        if (err) &#123;return err;&#125;</div><div class="line">        else &#123;</div><div class="line">          return result;&#125;</div><div class="line">      &#125;);</div><div class="line">    &#125;</div><div class="line">  &#125;, </div><div class="line">    //end - createChat</div><div class="line">  </div><div class="line">	newMessages: function (chatId, messages) &#123;</div><div class="line">    Chats.update(chatId, messages);</div><div class="line">  &#125;</div><div class="line">&#125;) </div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      Meteor tutorial about web Applications
    
    </summary>
    
    
      <category term="meteor nodejs" scheme="https://t1ger.github.io/tags/meteor-nodejs/"/>
    
  </entry>
  
  <entry>
    <title>Security on nginx</title>
    <link href="https://t1ger.github.io/2016/09/28/Security-on-nginx/"/>
    <id>https://t1ger.github.io/2016/09/28/Security-on-nginx/</id>
    <published>2016-09-28T05:01:23.000Z</published>
    <updated>2016-09-28T07:47:58.617Z</updated>
    
    <content type="html"><![CDATA[<p>闲言少续，直接上配置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">server &#123;</div><div class="line"> </div><div class="line">  listen [::]:443 default_server;</div><div class="line"> </div><div class="line">  ssl on;</div><div class="line">  ssl_certificate_key /etc/ssl/cert/abc.pem;</div><div class="line">  ssl_certificate /etc/ssl/cert/abc.pem;</div><div class="line"> </div><div class="line">  ssl_ciphers EECDH+ECDSA+AESGCM:EECDH+aRSA+AESGCM:EECDH+ECDSA+SHA512:EECDH+ECDSA+SHA384:EECDH+ECDSA+SHA256:ECDH+AESGCM:ECDH+AES256:DH+AESGCM:DH+AES256:RSA+AESGCM:!aNULL:!eNULL:!LOW:!RC4:!3DES:!MD5:!EXP:!PSK:!SRP:!DSS</div><div class="line">  ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</div><div class="line">  ssl_prefer_server_ciphers on;</div><div class="line">  </div><div class="line">  ssl_session_cache shared:SSL:50m;</div><div class="line"> </div><div class="line">  ssl_stapling on;</div><div class="line">  ssl_stapling_verify on;</div><div class="line">  resolver 8.8.4.4 8.8.8.8 valid=300s;</div><div class="line">  resolver_timeout 10s;</div><div class="line"> </div><div class="line">  </div><div class="line">  ssl_dhparam /etc/ssl/certs/dhparam.pem;</div><div class="line"> </div><div class="line">  add_header Strict-Transport-Security max-age=63072000;</div><div class="line">  add_header X-Frame-Options DENY;</div><div class="line">  add_header X-Content-Type-Options nosniff;</div><div class="line"> </div><div class="line">  root /var/www/;</div><div class="line">  index index.html index.htm;</div><div class="line">  server_name abc.org;</div><div class="line"> </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>解析：</p>
<p>ssl_dhparam /etc/ssl/certs/dhparam.pem; //nginx在DHE密钥交换的时候使用它<br>产生一个更强的DHE参数<br>cd /etc/ssl/certs<br>openssl dhparam -out dhparam.pem 4096</p>
<p>参考</p>
<p><a href="https://www.ssllabs.com/ssltest" target="_blank" rel="external">SSL 实验室测试(SSL Labs tes)</a> ,赶紧去测试吧<br><a href="https://cipherli.st/" target="_blank" rel="external">Strong Ciphers </a><br><a href="https://gist.github.com/gavinhungry/7a67174c18085f4a23eb" target="_blank" rel="external">Nginx SSL/TLS configuration for “A+” Qualys SSL Labs rating</a><br><a href="https://mozilla.github.io/server-side-tls/ssl-config-generator/" target="_blank" rel="external">Mozilla SSL Configuration Generator</a></p>
<hr>
<p>您的鼓励是我写作最大的动力</p>
<p>俗话说，投资效率是最好的投资。 如果您感觉我的文章质量不错，读后收获很大，预计能为您提高 10% 的工作效率，不妨小额捐助我一下，让我有动力继续写出更多好文章。</p>
]]></content>
    
    <summary type="html">
    
      how to strong Security on nginx
    
    </summary>
    
    
      <category term="nginx https ssl" scheme="https://t1ger.github.io/tags/nginx-https-ssl/"/>
    
  </entry>
  
  <entry>
    <title>how to send a https request in nodejs</title>
    <link href="https://t1ger.github.io/2016/09/27/how-to-send-a-https-request-in-nodejs/"/>
    <id>https://t1ger.github.io/2016/09/27/how-to-send-a-https-request-in-nodejs/</id>
    <published>2016-09-26T16:20:44.000Z</published>
    <updated>2016-09-26T15:53:23.250Z</updated>
    
    <content type="html"><![CDATA[<h4 id="Steps-to-send-a-https-request-to-a-rest-service-in-Node-js"><a href="#Steps-to-send-a-https-request-to-a-rest-service-in-Node-js" class="headerlink" title="Steps to send a https request to a rest service in Node js"></a>Steps to send a https request to a rest service in Node js</h4><ul>
<li>a)use request</li>
</ul>
<pre><code>var request = require(&apos;request&apos;);
var options = {
    url:&apos;https://abc.example.com.cn/In/index.php?m=Info&amp;a=Address&apos;,
    headers: {
        &apos;User-Agent&apos;: &apos;request&apos;
    },
    rejectUnauthorized: false
};
function callback(error, response, body) {
    if (!error &amp;&amp; response.statusCode == 200) {
        var info = JSON.parse(body);
        console.log(info);
    }else{
        console.log(error);
    }
}
request(options, callback);
</code></pre><ul>
<li>b)use https</li>
</ul>
<pre><code>var https = require(&apos;https&apos;);
        var options = {
            host: &apos;abc.example.com.cn&apos;,
            port: 443,
            path: &apos;/In/index.php?m=Info&amp;a=Address&apos;,
            method: &apos;GET&apos;,
            rejectUnauthorized: false
            };
        var req = https.request(options, function(res) {
        console.log(&apos;STATUS: &apos; + res.statusCode);
        console.log(&apos;HEADERS: &apos; + JSON.stringify(res.headers));
        res.setEncoding(&apos;utf8&apos;);
        res.on(&apos;data&apos;, function (chunk) {
        console.log(&apos;BODY: &apos; + chunk);
        });
        });
        req.on(&apos;error&apos;, function(e) {
        console.log(&apos;problem with request: &apos; + e.message);
        });
        // write data to request body
        req.write(&apos;data\n&apos;);
        req.write(&apos;data\n&apos;);
        req.end();    
</code></pre><hr>
<p>您的鼓励是我写作最大的动力</p>
<p>俗话说，投资效率是最好的投资。 如果您感觉我的文章质量不错，读后收获很大，预计能为您提高 10% 的工作效率，不妨小额捐助我一下，让我有动力继续写出更多好文章。</p>
]]></content>
    
    <summary type="html">
    
      how to send a https request in nodejs
    
    </summary>
    
    
      <category term="nodejs https" scheme="https://t1ger.github.io/tags/nodejs-https/"/>
    
  </entry>
  
  <entry>
    <title>MySQL复制概述(二)</title>
    <link href="https://t1ger.github.io/2016/09/25/MySQL%E5%A4%8D%E5%88%B6%E6%A6%82%E8%BF%B0-%E4%BA%8C/"/>
    <id>https://t1ger.github.io/2016/09/25/MySQL复制概述-二/</id>
    <published>2016-09-25T08:28:12.000Z</published>
    <updated>2016-09-26T03:45:53.548Z</updated>
    
    <content type="html"><![CDATA[<h5 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h5><p>在上一文章中，我们了解了mysql5.5x系列的mysql复制，这篇文章我们主要介绍mysql5.7版本下的GTID主从复制</p>
<pre><code>什么是GTID
GTID = source_id:transaction_id
开启GTID的必备条件
gtid_mod=ON
enforce-gtid-consistency
log_bin=ON(可选)
log-slave-updates=ON(可选)
</code></pre><h6 id="a-标准安装步骤"><a href="#a-标准安装步骤" class="headerlink" title="a)标准安装步骤"></a>a)标准安装步骤</h6><ul>
<li>同步所有servers<pre><code>mysql&gt; set @@global.read_only = ON;
注： 执行前slave务必执行完所以更新
</code></pre></li>
<li>关闭所有servers<pre><code>shell&gt; mysqladmin -uusername -p shutdown
</code></pre></li>
<li><p>重启服务，并开启GTID</p>
<pre><code>shell&gt; mysqld --gtid-mode=ON --log-bin --enforce-gtid-consistency &amp;
</code></pre></li>
<li><p>执行同步命令</p>
<pre><code>mysql&gt; change master to
    master_host = host,
    master_port = port,
    master_user = user,
    master_password = password,
    master_auto_position = 1;
mysql&gt; start slave;
</code></pre></li>
<li><p>取消master的只读模式</p>
<pre><code>mysql&gt; set @@global.read_only = OFF;
</code></pre></li>
</ul>
<h6 id="b-从备份中恢复"><a href="#b-从备份中恢复" class="headerlink" title="b)从备份中恢复"></a>b)从备份中恢复</h6><ul>
<li><p>备份</p>
<pre><code>mysqldump --all-databases --single-transaction --trigger --routines --user=root -p &gt;backup.sql
# grep PURGED backup.sql
SET @@GLOBAL.GTID_PURGED=&apos;9a511b7b-7059-11e2-9a24-08002762b8af:1-13&apos;;
</code></pre></li>
<li><p>在slave上reset master ,导入备份<br>注：如果是逻辑导入，请设置sql_log_bin=off</p>
<pre><code>mysql&gt; reset master;
mysql&gt; show global variables like &apos;gtid_executed&apos;;
+---------------+-------+
| Variable_name | Value |
+---------------+-------+
| gtid_executed |       |
+---------------+-------+
mysql&gt; show global variables like &apos;gtid_purged&apos;;
+---------------+-------+
| Variable_name | Value |
+---------------+-------+
| gtid_purged   |       |
+---------------+-------+
mysql&gt; source backup.sql

mysql&gt; show global variables like &apos;gtid_executed&apos;;
+---------------+-------------------------------------------+
| Variable_name | Value                                     |
+---------------+-------------------------------------------+
| gtid_executed | 9a511b7b-7059-11e2-9a24-08002762b8af:1-13 |
+---------------+-------------------------------------------+
mysql&gt; show global variables like &apos;gtid_purged&apos;;
+---------------+-------------------------------------------+
| Variable_name | Value                                     |
+---------------+-------------------------------------------+
| gtid_purged   | 9a511b7b-7059-11e2-9a24-08002762b8af:1-13 |
+---------------+-------------------------------------------+
</code></pre></li>
<li><p>执行同步命令</p>
<pre><code>mysql&gt; change master to
    master_host = host,
    master_port = port,
    master_user = user,
    master_password = password,
    master_auto_position = 1;
mysql&gt; start slave;
</code></pre></li>
<li><p>主从复制常见错误<br> Slave_IO_Running: No<br> Slave_SQL_Running: Yes<br> Last_IO_Error: Got fatal error 1236 from master when reading data from binary log: ‘The slave is connecting using CHANGE MASTER TO MASTER_AUTO_POSITION = 1, but the master has purged binary logs containing GTIDs that the slave requires.’</p>
<p> 在master上查看GTID_EXECUTED</p>
<pre><code>mysql&gt; show global variables like &apos;GTID_EXECUTED&apos;;
+---------------+-------------------------------------------+
| Variable_name | Value                                     |
+---------------+-------------------------------------------+
| gtid_executed | 9a511b7b-7059-11e2-9a24-08002762b8af:1-14 |
+---------------+-------------------------------------------+
</code></pre><p>解决：</p>
<pre><code>mysql&gt;reset master;
mysql&gt;show global variables like &apos;GTID_EXECUTED&apos;;
    +---------------+-------+
    | Variable_name | Value |
    +---------------+-------+
    | gtid_executed |       |
    +---------------+-------+
mysql&gt; set global GTID_PURGED=&quot;9a511b7b-7059-11e2-9a24-08002762b8af:1-14&quot;;
mysql&gt; start slave io_thread;
mysql&gt; show slave status\G;
</code></pre></li>
</ul>
<ul>
<li>工具<br><a href="https://www.percona.com/software/mysql-database/percona-xtrabackup" target="_blank" rel="external">Percona XtraBackup</a></li>
</ul>
<hr>
<p>您的鼓励是我写作最大的动力</p>
<p>俗话说，投资效率是最好的投资。 如果您感觉我的文章质量不错，读后收获很大，预计能为您提高 10% 的工作效率，不妨小额捐助我一下，让我有动力继续写出更多好文章。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h5 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h5&gt;&lt;p&gt;在上一文章中，我们了解了mysql5.5x系列的mysql复制，这篇文章我们主要介绍mysql5.7版本下的GTID主从复制&lt;/p&gt;
&lt;pr
    
    </summary>
    
    
      <category term="mysql linux" scheme="https://t1ger.github.io/tags/mysql-linux/"/>
    
  </entry>
  
  <entry>
    <title>MySQL复制概述(一)</title>
    <link href="https://t1ger.github.io/2016/09/25/MySQL%E5%A4%8D%E5%88%B6%E6%A6%82%E8%BF%B0-%E4%B8%80/"/>
    <id>https://t1ger.github.io/2016/09/25/MySQL复制概述-一/</id>
    <published>2016-09-25T06:25:48.000Z</published>
    <updated>2016-09-26T03:43:01.160Z</updated>
    
    <content type="html"><![CDATA[<h4 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h4><p>master将数据变化记录到bin-log日志中，然后slave服务器通过I/O线程读取master的bin-log日志，并将其写人slave服务器的relay-log日志中，接着sql线程读取relay-log日志，并在slave中执行，从而实现mysql复制。</p>
<h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><ul>
<li><p>标准安装步骤<br>1.1 建立复制账户，配置主、从服务器的my.cnf<br>1.2 复制master数据<br>1.3 在slave上应用master数据，并执行同步命令。<br>注 本文针对mysql5.5x系列</p>
<pre><code>mysql&gt; create user &apos;repl&apos;@&apos;&lt;slave_host&gt;&apos; identified by &apos;&lt;slave_password&gt;&apos;;
mysql&gt; grant replication slave on *.* to  &apos;repl&apos;@&apos;&lt;slave_host&gt;&apos;;

master的my.cnf
[mysqld]

server_id = 100
log_bin = mysql-bin
log_bin_index = mysql-bin.index
sync_binlog = 1
innodb_flush_log_at_trx_commit = 1
innodb_support_xa = 1
</code></pre><p>  server_id一定保证唯一<br>  log_bin如不指定，缺省使用主机名(relay-log同样需要)。</p>
<pre><code>slave的my.cnf
[mysqld]
server_id = 101
log_bin = mysql-bin
log_bin_index = mysql-bin.index
relay-log = mysql-relay-bin
relay-log-inex = mysql-relay-bin.index
read_only = 1
skip_slave_start = 1
log_slave_updates = 1
</code></pre><p>  复制master数据,并执行同步命令。</p>
<pre><code>shell&gt;mysqldump --all-databases --master-data=1 &gt; backup.sql

在slave上应用master数据，并执行同步命令。
shell&gt; mysql &lt; backup.sql
shell&gt; grep -i &quot;CHANGE MASTER TO&quot; backup.sql

mysql&gt;change master to
    master_host=&apos;&lt;master_host&gt;&apos;,
    master_user=&apos;&lt;slave_user&gt;&apos;,
    master_password=&apos;&lt;slave_password&gt;&apos;,
    master_log_file=&apos;&lt;Relay_Master_Log_File&gt;&apos;,
    master_log_pos=&apos;&lt;Exec_Master_Log_Pos&gt;&apos;;
mysql&gt;start slave;
mysql&gt;show slave status;
</code></pre></li>
<li><p>从已存在slave上新建slave服务器<br>  在旧slave上查看日志信息</p>
<pre><code>mysql&gt;show slave status;
</code></pre><p>  记录下Relay_Master_Log_File&amp;Exec_Master_Log_Pos</p>
<p>  在新slave上执行</p>
<pre><code>mysql&gt;chang master to
    master_host=&apos;&lt;master_host&gt;&apos;,
    master_user=&apos;&lt;slave_user&gt;&apos;,
    master_password=&apos;&lt;slave_password&gt;&apos;,
    master_log_file=&apos;&lt;Relay_Master_Log_File&gt;&apos;,
    master_log_pos=&apos;&lt;Exec_Master_Log_Pos&gt;&apos;;
mysql&gt;start slave;
mysql&gt;show slave status;
</code></pre></li>
<li><p>主从复制常见错误</p>
<pre><code>Error &apos;Duplicate entry …&apos; for key … on query
</code></pre><p>  最好是找出有问题数据，然后主从复制恢复正常，如果不行，可以在slave上使用sql_slave_skip_counter</p>
<pre><code>mysql&gt;slave stop;
mysql&gt;set global sql_slave_skip_counter =1;
mysql&gt;start slave;
</code></pre><p>  在错误很多的时候，如果手工操作会累成狗的，通常这样可以使用pt-table-checksum和pt-table-sync</p>
</li>
<li><p>工具<br><a href="https://www.percona.com/software/mysql-database/percona-xtrabackup" target="_blank" rel="external">Percona XtraBackup</a></p>
</li>
</ul>
<hr>
<p>您的鼓励是我写作最大的动力</p>
<p>俗话说，投资效率是最好的投资。 如果您感觉我的文章质量不错，读后收获很大，预计能为您提高 10% 的工作效率，不妨小额捐助我一下，让我有动力继续写出更多好文章。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;原理&quot;&gt;&lt;a href=&quot;#原理&quot; class=&quot;headerlink&quot; title=&quot;原理&quot;&gt;&lt;/a&gt;原理&lt;/h4&gt;&lt;p&gt;master将数据变化记录到bin-log日志中，然后slave服务器通过I/O线程读取master的bin-log日志，并将其写人slav
    
    </summary>
    
    
      <category term="mysql linux" scheme="https://t1ger.github.io/tags/mysql-linux/"/>
    
  </entry>
  
  <entry>
    <title>Confluence 重置密码步骤</title>
    <link href="https://t1ger.github.io/2016/09/21/Confluence-%E9%87%8D%E7%BD%AE%E5%AF%86%E7%A0%81%E6%AD%A5%E9%AA%A4/"/>
    <id>https://t1ger.github.io/2016/09/21/Confluence-重置密码步骤/</id>
    <published>2016-09-21T11:07:00.000Z</published>
    <updated>2016-09-26T03:42:07.066Z</updated>
    
    <content type="html"><![CDATA[<p>当我们忘记Confluence密码或者不能作为admin登陆的话，请参考以下方法：</p>
<ul>
<li><p>首先，你的有mysql或者其他数据库的权限啦，找到admin权限的用户</p>
<pre><code>select u.id, u.user_name, u.active from cwd_user u
join cwd_membership m on u.id=m.child_user_id join cwd_group g on m.parent_id=g.id join cwd_directory d on d.id=g.directory_id
where g.group_name = &apos;confluence-administrators&apos; and d.directory_name=&apos;Confluence Internal Directory&apos;;
确保找到的用户处于激活状态
UPDATE cwd_user
SET active = &apos;T&apos;
WHERE user_name =&apos;&lt;user_name&gt;&apos;;
</code></pre></li>
<li><p>如果没有local admin存在，那我们只好自己建立了。</p>
<pre><code>insert into cwd_user(id, user_name, lower_user_name, active, created_date, updated_date, first_name, lower_first_name, last_name, lower_last_name, display_name, lower_display_name, email_address, lower_email_address, directory_id, credential) values (1212121, &apos;admin&apos;, &apos;admin&apos;, &apos;T&apos;, &apos;2009-11-26 17:42:08&apos;, &apos;2009-11-26 17:42:08&apos;, &apos;A. D.&apos;, &apos;a. d.&apos;, &apos;Ministrator&apos;, &apos;ministrator&apos;, &apos;A. D. Ministrator&apos;, &apos;a. d. ministrator&apos;, &apos;admin@example.com&apos;, &apos;admin@example.com&apos;, (select id from cwd_directory where directory_name=&apos;Confluence Internal Directory&apos;), &apos;x61Ey612Kl2gpFL56FT9weDnpSo4AV8j8+qx2AuTHdRyY036xxzTTrw10Wq3+4qQyB+XURPWx1ONxp3Y3pB37A==&apos;);

insert into user_mapping values (&apos;2c9681954172cf560000000000000001&apos;, &apos;admin&apos;, &apos;admin&apos;);

添加新组

insert into cwd_group(id, group_name, lower_group_name, active, local, created_date, updated_date, description, group_type, directory_id)
values ( &apos;888888&apos;,&apos;confluence-administrators&apos;,&apos;confluence-administrators&apos;,&apos;T&apos;,&apos;F&apos;,&apos;2011-03-21 12:20:29&apos;,&apos;2011-03-21 12:20:29&apos;,NULL,&apos;GROUP&apos;,(select id from cwd_directory where directory_name=&apos;Confluence Internal Directory&apos;));
insert into cwd_group(id, group_name, lower_group_name, active, local, created_date, updated_date, description, group_type, directory_id)
values ( &apos;999999&apos;,&apos;confluence-users&apos;,&apos;confluence-users&apos;,&apos;T&apos;,&apos;F&apos;,&apos;2011-03-21 12:20:29&apos;,&apos;2011-03-21 12:20:29&apos;,NULL,&apos;GROUP&apos;,(select id from cwd_directory where directory_name=&apos;Confluence Internal Directory&apos;));

添加组关系
insert into cwd_membership (id, parent_id, child_user_id) values (888888, (select id from cwd_group where group_name=&apos;confluence-users&apos; and directory_id=(select id from cwd_directory where directory_name=&apos;Confluence Internal Directory&apos;)), 1212121);
insert into cwd_membership (id, parent_id, child_user_id) values (999999, (select id from cwd_group where group_name=&apos;confluence-administrators&apos; and directory_id=(select id from cwd_directory where directory_name=&apos;Confluence Internal Directory&apos;)), 1212121);

如果你用的是oracle数据库，请用 sysdate 代替 created_date.
</code></pre></li>
<li><p>替换admin密码，加密后的密码如下<br>  x61Ey612Kl2gpFL56FT9weDnpSo4AV8j8+qx2AuTHdRyY036xxzTTrw10Wq3+4qQyB+XURPWx1ONxp3Y3pB37A==，为了更改密码，我们要关闭Confluence<br>登陆mysql执行</p>
<pre><code>update cwd_user set credential =
&apos;x61Ey612Kl2gpFL56FT9weDnpSo4AV8j8+qx2AuTHdRyY036xxzTTrw10Wq3+4qQyB+XURPWx1ONxp3Y3pB37A==&apos;
where id=&lt;id from Stage 1&gt;;
</code></pre></li>
</ul>
<ul>
<li><p>更改Internal Directory 为第一</p>
<pre><code>找到directory 名

select d.id, d.directory_name, m.list_index from cwd_directory d join cwd_app_dir_mapping m on d.id=m.directory_id;

交换directory顺序

update cwd_app_dir_mapping set list_index = 0 where directory_id = &lt;Internal Directory id&gt;;
update cwd_app_dir_mapping set list_index = &lt;Noted Internal Directory list_index&gt; where directory_id = &lt;Directory id that had list_index 0&gt;;

查看是否激活directory
select id, directory_name, active from cwd_directory where id = &lt;Internal Directory id&gt;;

如果必要，激活

update cwd_directory set active = &apos;T&apos; where id = &lt;Internal Directory id&gt;;
</code></pre></li>
</ul>
<p>重启登陆，打完收工</p>
<hr>
<p>您的鼓励是我写作最大的动力</p>
<p>俗话说，投资效率是最好的投资。 如果您感觉我的文章质量不错，读后收获很大，预计能为您提高 10% 的工作效率，不妨小额捐助我一下，让我有动力继续写出更多好文章。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;当我们忘记Confluence密码或者不能作为admin登陆的话，请参考以下方法：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;首先，你的有mysql或者其他数据库的权限啦，找到admin权限的用户&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;select u.id, u.user_name, u.
    
    </summary>
    
    
      <category term="Confluence openldap" scheme="https://t1ger.github.io/tags/Confluence-openldap/"/>
    
  </entry>
  
  <entry>
    <title>openldap集成系列</title>
    <link href="https://t1ger.github.io/2016/09/16/openldap%E9%9B%86%E6%88%90%E7%B3%BB%E5%88%97/"/>
    <id>https://t1ger.github.io/2016/09/16/openldap集成系列/</id>
    <published>2016-09-15T15:31:07.000Z</published>
    <updated>2016-09-26T03:44:47.690Z</updated>
    
    <content type="html"><![CDATA[<p>闲言少叙，先来个svn集成配置</p>
<pre><code>&lt;Location /svn&gt;
DAV svn
SVNParentPath /opt/repo
#SVNPath /opt/repo
AuthType Basic
AuthName &quot;SVN Repo&quot;
#AuthUserFile /opt/svnconf/svn_access_file
AuthzLDAPAuthoritative off
AuthLDAPBindDN &quot;cn=admin,dc=abc,dc=com,dc=cn&quot;
AuthLDAPBindPassword &quot;abc123&quot;
AuthBasicProvider ldap
AuthLDAPURL &quot;ldap://192.168.1.102:389/ou=user,dc=abc,dc=com,dc=cn?cn?sub?(objectClass=*)&quot;
AuthzSVNAccessFile /opt/svnconf/svn_auth_file
Require valid-user
&lt;/Location&gt;
</code></pre><p>proftp集成配置</p>
<pre><code>LDAPAttr uid cn
LDAPServer      ldap://192.168.1.102:389/??sub
LDAPAuthBinds on
DAPBindDN      &quot;cn=admin,dc=abc,dc=com,dc=cn&quot; &quot;abc123&quot;
LDAPUsers       &quot;ou=user,dc=abc,dc=com,dc=cn&quot; (uid=%v)
LDAPGroups       ou=ftp,ou=permission,dc=abc,dc=com,dc=cn
</code></pre><p>不断更新中</p>
<hr>
<p>您的鼓励是我写作最大的动力</p>
<p>俗话说，投资效率是最好的投资。 如果您感觉我的文章质量不错，读后收获很大，预计能为您提高 10% 的工作效率，不妨小额捐助我一下，让我有动力继续写出更多好文章。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;闲言少叙，先来个svn集成配置&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;Location /svn&amp;gt;
DAV svn
SVNParentPath /opt/repo
#SVNPath /opt/repo
AuthType Basic
AuthName &amp;quot;SVN
    
    </summary>
    
    
      <category term="openldap linux svn proftp" scheme="https://t1ger.github.io/tags/openldap-linux-svn-proftp/"/>
    
  </entry>
  
</feed>
